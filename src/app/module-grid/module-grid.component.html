<ng-container *transloco="let t; prefix:'overview'">
<p-table
  [value]="modules"
  [tableStyle]="{ 'min-width': '50rem' }"
  selectionMode="single"
>
    <ng-template pTemplate="header">
        <tr>
            <th>
              <div>
                    {{ t('course') }}
                    <p-columnFilter display="menu"
                                    field="course"
                                    matchMode="equals"
                                    [showMatchModes]="false"
                                    [showOperator]="false"
                                    [showAddButton]="false"
                                    [hideOnClear]="true"
                    >
                        <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                            <p-dropdown
                                [(ngModel)]="selectedvalue"
                                [options]="statuses"
                                (onChange)="filter($event.value)"
                                [placeholder]="t('filter')"
                                [showClear]="false">
                                    <ng-template let-option pTemplate="item">
                                        <p-tag
                                            [value]="option"
                                            severity="success" />
                                    </ng-template>
                            </p-dropdown>
                        </ng-template>
                    </p-columnFilter>
                </div>
            </th>
            <th>
                <div>
                    {{ t('name') }}
                    <p-columnFilter
                      type="text"
                      field="name"
                      display="menu"
                      [showMatchModes]="false"
                      [showOperator]="false"
                      [showAddButton]="false"
                      [hideOnClear]="true"
                    />
                </div>
            </th>
            <th>
              <div>
                    {{ t('semester') }}
                    <p-columnFilter
                      type="text"
                      field="semester"
                      display="menu"
                      [showMatchModes]="false"
                      [showOperator]="false"
                      [showAddButton]="false"
                      [hideOnClear]="true"
                    />
                </div>
            </th>
            <th>
              <div>
                {{ t('responsible') }}
                <p-columnFilter field="responsible" matchMode="equals" display="menu"
                                [showMatchModes]="false"
                                [showOperator]="false"
                                [showAddButton]="false"
                                [hideOnClear]="true"
                >
                        <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                            <p-dropdown [filter]="true" [showClear]="false" [(ngModel)]="selectedUser" [options]="users" [placeholder]="t('filter')" (onChange)="filter($event.value)">
                                <ng-template let-option pTemplate="item">
                                    <div class="inline-block vertical-align-middle">
                                        <p-avatar
                                          label="{{ option.split(' ')[1].charAt(0) }}"
                                          [style]="{ 'background-color': '#dee9fc', color: '#1a2551' }" />
                                      <span class="ml-1 mt-1"> {{ option }}</span>
                                    </div>
                                </ng-template>
                            </p-dropdown>
                        </ng-template>
                    </p-columnFilter>
              </div>
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-module>
        <tr class="clickable" (click)="openDetailView(module)">
            <td>
              <p-tag severity="success" value="{{ module.course }}" [pTooltip]="tooltipContent" />
              <ng-template #tooltipContent>
                <span> <p>{{module.course_name}}</p> </span>
              </ng-template>
            </td>
            <td>{{ module.name }}</td>
            <td>{{ module.semester }}</td>
            <td>
              <p-avatar
                label="{{ module.responsible.split(' ')[1].charAt(0) }}"
                [style]="{ 'background-color': '#dee9fc', color: '#1a2551' }" />
              {{ module.responsible }}</td>
        </tr>
    </ng-template>
</p-table>
</ng-container>
